<div id="thought_form">
  <%= form_with model: [project, thought], url: project_thoughts_path(project), class: "space-y-3" do |form| %>
    <div>
      <%= form.text_area :content,
            rows: 2,
            placeholder: "Add a thought...",
            data: {
              controller: "auto-resize-textarea",
              action: "input->auto-resize-textarea#resize",
              auto_resize_textarea_min_rows_value: 2,
              auto_resize_textarea_max_rows_value: 12
            },
            class: "w-full rounded-2xl border border-slate-300/80 bg-white px-4 py-3 text-base text-slate-900 placeholder:text-slate-400 focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-400/30 resize-y" %>
    </div>

    <% if thought.errors.any? %>
      <ul class="space-y-1 text-sm text-red-600">
        <% thought.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    <% end %>

    <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
      <%= form.file_field :image,
            accept: "image/jpeg,image/png,image/gif,image/webp",
            class: "text-sm text-slate-500 file:mr-3 file:rounded-full file:border-0 file:bg-slate-100 file:px-4 file:py-2 file:text-sm file:font-medium file:text-slate-700 hover:file:bg-slate-200 min-w-0" %>

      <%= form.submit "Add Thought",
            class: "rounded-2xl bg-blue-600 px-5 py-2 text-sm font-semibold uppercase tracking-wide text-white shadow-md transition hover:-translate-y-0.5 hover:bg-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-400/40 shrink-0" %>
    </div>
  <% end %>
</div>

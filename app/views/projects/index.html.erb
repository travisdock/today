<% content_for :main_class, "flex flex-1 justify-center px-4 py-5 sm:px-6 lg:px-8" %>

<div class="w-full max-w-3xl space-y-8 pb-32">
  <%= render "shared/flash" %>

  <section class="rounded-3xl border border-white/40 bg-white/80 p-6 shadow-xl backdrop-blur">
    <%= link_to new_project_path,
          class: "flex w-full items-center justify-center gap-2 rounded-2xl bg-slate-100 px-4 py-2 text-sm font-semibold uppercase tracking-wide text-slate-600 transition-all duration-200 hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-400" do %>
      <svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
        <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
      </svg>
      <span>New project</span>
    <% end %>
  </section>

  <% if @projects.any? %>
    <section class="space-y-4">
      <% @projects.each do |project| %>
        <%= turbo_stream_from project %>
        <div class="rounded-3xl border border-white/30 bg-white/70 p-6 shadow-lg backdrop-blur">
          <div class="flex items-start gap-4">
            <%= render "projects/badge", project: project, size: :small %>
            <div class="flex-1 min-w-0">
              <h2 class="text-lg font-semibold text-slate-900"><%= project.name %></h2>
              <% if project.description.present? %>
                <p class="mt-1 text-slate-600 truncate"><%= project.description %></p>
              <% end %>
            </div>
            <%= link_to edit_project_path(project),
                  class: "text-slate-400 hover:text-slate-600 transition flex-shrink-0" do %>
              <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path d="M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z" />
              </svg>
            <% end %>
          </div>
        </div>
      <% end %>
    </section>
  <% else %>
    <section class="rounded-3xl border border-white/30 bg-white/70 p-6 shadow-lg backdrop-blur text-center">
      <p class="text-slate-600">No projects yet.</p>
    </section>
  <% end %>
</div>
